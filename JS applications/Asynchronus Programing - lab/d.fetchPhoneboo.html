<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetching phone book</title>
</head>

<body>
    <button id="load">Load phone book</button>
    <button id="add-phone">Add phone</button>
</body>

<script>
    const phoneBookUrl = 'http://localhost:3030/jsonstore/phonebook'
    const loadBtn = document.getElementById('load')
    const addBtn = document.getElementById('add-phone')

    loadBtn.addEventListener('click', () => {

        fetch(phoneBookUrl)
            .then(function (response) {
                let result = response.json()
                return result
            })
            .then(function (result) {
                console.log(result)
            })
            .catch(function (err) {
                console.log(err)
            })
    })
    //Post request
    addBtn.addEventListener('click', () => {
        fetch(phoneBookUrl, {
            method: 'POST',
            body: JSON.stringify({ person: 'Mariyka', phone: "+1-2424-242425" }),
            headers: { 'Content-Type': "application/Json" }
        })
            .then(function (response) {
                let result = response.json()
                return result
            })
            .then(function (result) {
                console.log(result)
            })
            .catch(function (err) {
                console.log(err)
            })
    })

</script>

</html>